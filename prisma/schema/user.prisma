model User {
  id           String     @id @default(uuid())
  email        String     @unique
  password     String
  role         UserRole   @default(CUSTOMER)
  status       UserStatus @default(ACTIVE)
  name         String
  phone        String?
  profilePhoto String?
  gender       Gender?
  dateOfBirth  DateTime?
  address      String?
  isDeleted    Boolean    @default(false)
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt

  // Relations
  admin        Admin?
  salonOwner   SalonOwner[]
  staff        Staff?
  appointments Appointment[]
  reviews      Review[]

  @@map("users")
}

model Admin {
  id                String   @id @default(uuid())
  userId            String   @unique
  canManageUsers    Boolean  @default(true)
  canManageSalons   Boolean  @default(true)
  canManageServices Boolean  @default(true)
  canViewReports    Boolean  @default(true)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  // Relations
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("admins")
}

model SalonOwner {
  id                 String  @id @default(uuid())
  userId             String
  businessName       String?
  businessAddress    String?
  businessPhone      String?
  businessEmail      String?
  verificationStatus Boolean @default(false)
  documentUrl        String?

  // âœ… add these
  applicationStatus OwnerApplicationStatus @default(PENDING)
  rejectionReason   String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  user   User    @relation(fields: [userId], references: [id], onDelete: Cascade)
  salons Salon[]

  @@map("salon_owners")
}
